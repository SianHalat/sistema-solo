<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM</title>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;700&family=Noto+Sans+SC&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #00eaff; --bg: #02050a; }
        body.lang-cjk { font-family: 'Noto Sans SC', sans-serif !important; }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; }
        body { background: var(--bg); color: #fff; font-family: 'Chakra Petch', sans-serif; min-height: 100vh; padding: 15px; padding-bottom: 80px; }
        .main-frame { border: 2px solid #fff; box-shadow: 0 0 15px var(--blue); padding: 20px; background: rgba(0,0,0,0.8); position: relative; }
        .lvl-num { font-size: 3.5rem; font-weight: 700; text-shadow: 0 0 10px var(--blue); }
        .stat-row { display: flex; align-items: center; margin-bottom: 15px; font-size: 1.2rem; }
        .stat-val { margin-left: auto; font-weight: bold; font-size: 1.5rem; color: var(--blue); }
        .plus-btn { width: 25px; height: 25px; border: 1px solid #fff; margin-left: 10px; text-align: center; cursor: pointer; }
        .nav-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: #000; border-top: 1px solid #fff; display: flex; justify-content: space-around; padding: 15px; }
        .nav-btn { background: none; border: none; color: #555; font-weight: bold; cursor: pointer; }
        .nav-btn.active { color: var(--blue); }
        .content { display: none; width: 100%; }
        .content.active { display: block; }
        .timer { position: absolute; top: 15px; right: 15px; border: 1px solid var(--blue); padding: 5px; font-weight: bold; }
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); display:none; flex-direction:column; align-items:center; justify-content:center; z-index:1000; }
    </style>
</head>
<body id="body">

    <div class="timer" id="timer">00:00:00</div>

    <button onclick="document.getElementById('modal').style.display='flex'" style="position:absolute; top:15px; left:15px; background:none; border:none; color:#fff; font-size:1.5rem;">⚙️</button>

    <div id="modal" class="modal">
        <h2 style="margin-bottom:20px;">SETTINGS</h2>
        <select id="lang" onchange="game.setLang(this.value)" style="padding:10px; width:200px; margin-bottom:20px;">
            <option value="en">English</option>
            <option value="pt">Português</option>
            <option value="zh">中文 (Chinese)</option>
            <option value="ja">日本語 (Japanese)</option>
        </select>
        <button onclick="document.getElementById('modal').style.display='none'" style="padding:10px 40px;">CLOSE</button>
    </div>

    <div id="status" class="content active">
        <div class="main-frame">
            <h2 id="t-status" style="text-align:center; margin-bottom:20px;">STATUS</h2>
            <div style="display:flex; align-items:center; margin-bottom:20px;">
                <div style="text-align:center; margin-right:30px;">
                    <div id="lvl" class="lvl-num">1</div>
                    <div style="font-size:0.8rem;">LEVEL</div>
                </div>
                <div>
                    <div>GOLD: <span id="gold" style="color:var(--blue);">0</span></div>
                    <div>POINTS: <span id="pts" style="color:var(--blue);">0</span></div>
                </div>
            </div>
            <div id="stats-list"></div>
        </div>
    </div>

    <div id="quests" class="content">
        <div class="main-frame">
            <h2 id="t-quests" style="text-align:center; margin-bottom:20px;">QUESTS</h2>
            <div id="quest-list"></div>
        </div>
    </div>

    <div id="shop" class="content">
        <div class="main-frame">
            <h2 id="t-shop" style="text-align:center; margin-bottom:20px;">SHOP</h2>
            <div style="border:1px solid #fff; padding:10px; margin-bottom:10px;" onclick="game.buy('Potion', 100)">POTION - 100G</div>
            <div style="border:1px solid #fff; padding:10px;" onclick="game.buy('Return Stone', 200)">RETURN STONE - 200G</div>
        </div>
    </div>

    <nav class="nav-bar">
        <button id="n-status" class="nav-btn active" onclick="ui.tab('status')">STATUS</button>
        <button id="n-quests" class="nav-btn" onclick="ui.tab('quests')">QUESTS</button>
        <button id="n-shop" class="nav-btn" onclick="ui.tab('shop')">SHOP</button>
    </nav>

    <script>
        const lang = {
            en: { status: "STATUS", quests: "QUESTS", shop: "SHOP", q1: "PUSH-UPS", q2: "SIT-UPS", q3: "SQUATS", q4: "RUN 2KM" },
            pt: { status: "STATUS", quests: "MISSÕES", shop: "LOJA", q1: "FLEXÕES", q2: "ABDOMINAIS", q3: "AGACHAMENTOS", q4: "CORRIDA 2KM" },
            zh: { status: "状态", quests: "任务", shop: "商店", q1: "俯卧撑", q2: "仰卧起坐", q3: "深蹲", q4: "跑步 2KM" },
            ja: { status: "ステータス", quests: "クエスト", shop: "ショップ", q1: "腕立て伏せ", q2: "腹筋", q3: "スクワット", q4: "ランニング 2KM" }
        };

        const game = {
            data: { stats: { STR: 10, VIT: 10, AGI: 10, INT: 10, PER: 10 }, pts: 3, lvl: 1, gold: 0, lang: 'en', quests: [{id:'q1', done:false}, {id:'q2', done:false}, {id:'q3', done:false}, {id:'q4', done:false}] },
            init() {
                const s = localStorage.getItem('solo_v11');
                if(s) this.data = JSON.parse(s);
                ui.render();
                setInterval(() => this.tick(), 1000);
            },
            save() { localStorage.setItem('solo_v11', JSON.stringify(this.data)); },
            setLang(l) { this.data.lang = l; this.save(); ui.render(); },
            addStat(k) { if(this.data.pts > 0) { this.data.stats[k]++; this.data.pts--; this.save(); ui.render(); } },
            toggle(i) { this.data.quests[i].done = !this.data.quests[i].done; this.save(); ui.render(); },
            buy(n, c) { if(this.data.gold >= c) { this.data.gold -= c; alert('Bought ' + n); this.save(); ui.render(); } else { alert('No Gold'); } },
            tick() {
                const n = new Date(); const e = new Date(); e.setHours(23,59,59);
                const d = e - n;
                const h = Math.floor(d/3600000); const m = Math.floor((d%3600000)/60000); const s = Math.floor((d%60000)/1000);
                document.getElementById('timer').innerText = h.toString().padStart(2,'0') + ":" + m.toString().padStart(2,'0') + ":" + s.toString().padStart(2,'0');
            }
        };

        const ui = {
            tab(n) {
                document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                document.getElementById(n).classList.add('active');
                document.getElementById('n-' + n).classList.add('active');
            },
            render() {
                const d = game.data; const t = lang[d.lang];
                document.getElementById('t-status').innerText = t.status;
                document.getElementById('t-quests').innerText = t.quests;
                document.getElementById('t-shop').innerText = t.shop;
                document.getElementById('n-status').innerText = t.status;
                document.getElementById('n-quests').innerText = t.quests;
                document.getElementById('n-shop').innerText = t.shop;
                document.getElementById('lvl').innerText = d.lvl;
                document.getElementById('pts').innerText = d.pts;
                document.getElementById('gold').innerText = d.gold;
                document.getElementById('lang').value = d.lang;
                if(d.lang === 'zh' || d.lang === 'ja') document.getElementById('body').classList.add('lang-cjk');
                else document.getElementById('body').classList.remove('lang-cjk');

                let sH = '';
                for(let k in d.stats) {
                    sH += `<div class="stat-row"><span>${k}</span><span class="stat-val">${d.stats[k]}</span><div class="plus-btn" onclick="game.addStat('${k}')">+</div></div>`;
                }
                document.getElementById('stats-list').innerHTML = sH;

                let qH = '';
                d.quests.forEach((q, i) => {
                    qH += `<div class="stat-row"><span>${t[q.id]}</span><input type="checkbox" onchange="game.toggle(${i})" ${q.done?'checked':''}></div>`;
                });
                document.getElementById('quest-list').innerHTML = qH;
            }
        };
        game.init();
    </script>
</body>
</html>